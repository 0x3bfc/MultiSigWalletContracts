<div class="panel panel-default">
  <div class="panel-heading">
    <h4>
      Settings
    </h4>
  </div>
  <form ng-submit="update()">
    <div class="panel-body">
      <div class="form-group">
        <label for="node">Ethereum node</label>
        <ui-select ng-model="config.selectedEthereumNode"
          tagging="addCustomEthereumNode"
          tagging-label="false"
          id="node">
          <ui-select-match>{{$select.selected.name ? $select.selected.name : $select.selected.url }}</ui-select-match>
          <ui-select-choices repeat="node in config.ethereumNodes | selectFilter: {url: $select.search, name: $select.search}">
            <div ng-bind-html="toHtml(node.name | highlight: $select.search)"></div>
            <div ng-bind-html="toHtml(node.url | highlight: $select.search)"></div>
            <ui-select-match>
                <span ng-bind-html="toHtml(node.name | highlight: $select.search)"></span>
            </ui-select-match>
            <ui-select-choices repeat="node in config.ethereumNodes | selectFilter: {url: $select.search, name: $select.search}">
                <span ng-bind-html="toHtml(node.url | highlight: $select.search)"></span>
            </ui-select-choices>
          </ui-select-choices>
        </ui-select>
      </div>
      <div class="form-group">
        <label for="gas-limit">Gas limit</label>
        <input id="gas-limit" type="number" ng-model="config.gasLimit" class="form-control" />
      </div>
      <div class="form-group">
        <label for="gas-price">Gas price</label>
        <input id="gas-price" type="number" ng-model="config.gasPrice" class="form-control" />
      </div>
      <div class="form-group" ng-show="web3WalletEnabled">
        <label for="wallet-factory">Web3 wallet</label>
        <select id="web3-wallet" ng-model="config.wallet" class="form-control" >
          <option value="injected">
            Default (MetaMask, Mist, Parity ...)
          </option>
          <option value="ledger">
            Ledger Wallet
          </option>
        </select>
      </div>
      <div class="form-group">
        <label for="wallet-factory">Wallet factory contract</label>
        <ui-select ng-model="config.selectedWalletFactoryAddress"
          tagging="addCustomWalletFactoryAddress"
          tagging-label="false"
          id="node">
          <ui-select-match>{{$select.selected.address}}</ui-select-match>
          <ui-select-choices repeat="item in config.walletFactoryAddresses | selectFilter: {address: $select.search}">
            <div ng-bind-html="toHtml(item.address | highlight: $select.search)"></div>
            <ui-select-match>
                <span ng-bind-html="toHtml(item.address | highlight: $select.search)"></span>
            </ui-select-match>
            <ui-select-choices repeat="item in config.walletFactoryAddresses | selectFilter: {address: $select.search}">
                <span ng-bind-html="toHtml(item.address | highlight: $select.search)"></span>
            </ui-select-choices>
          </ui-select-choices>
        </ui-select>
      </div>
      <div class="form-group">
        <label for="alert-nodes">Alert node</label>
        <ui-select ng-model="config.alertNode"
          tagging="addCustomAlertNode"
          tagging-label="false"
          id="alert-nodes">
          <ui-select-match>{{$select.selected.url}}</ui-select-match>
          <ui-select-choices repeat="node in config.alertNodes | selectFilter: {url: $select.search, authCode: $select.search}">
            <div ng-bind-html="toHtml(node.url | highlight: $select.search)"></div>
            <ui-select-match>
                <span ng-bind-html="toHtml(node.url | highlight: $select.search)"></span>
            </ui-select-match>
            <ui-select-choices repeat="node in config.alertNodes | selectFilter: {url: $select.search, authCode: $select.search}">
                <span ng-bind-html="toHtml(node.url | highlight: $select.search)"></span>
            </ui-select-choices>
          </ui-select-choices>
        </ui-select>
      </div>
      <div class="form-group">
        <label for="wallet-factory">Authorization code</label>
        <input id="wallet-factory" type="text" ng-model="config.alertNode.authCode" class="form-control" />
      </div>
      <div class="form-group">
        <button class="btn btn-danger" type="button" ng-click="remove()" ng-show="showDeleteAuthCodeBtn">
          Delete Authorization code
        </button>
      </div>
    </div>
    <div class="panel-footer">
      <input type="submit" class="btn btn-default" value="Update settings" />
      <button type="button" class="btn btn-default" ng-click="reset()">
        Reset settings
      </button>
      <input type="button" class="btn btn-default" value="Import wallets" ng-click="showImportWalletDialog()" />
      <input type="button" class="btn btn-default" value="Export wallets" ng-click="showExportWalletDialog()" />
    </div>
  </form>
</div>
